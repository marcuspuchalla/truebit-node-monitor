# NATS Server Configuration for TrueBit Federation
# This configuration enables WebSocket connections for browser-based monitors

# Server identification
server_name: truebit-federation

# Client connections
port: 4222

# HTTP monitoring endpoint
http_port: 8222

# WebSocket configuration (required for browser connections)
websocket {
    # WebSocket port - use 443 for TLS or 80 for plain
    port: 443

    # Enable TLS (required for production)
    # Uncomment and configure for production use:
    # tls {
    #     cert_file: "/etc/nats/certs/server.crt"
    #     key_file: "/etc/nats/certs/server.key"
    # }

    # For development/testing without TLS:
    no_tls: true
}

# Logging
debug: false
trace: false
logtime: true

# Connection limits
max_connections: 10000
max_payload: 1MB

# Ping/Pong settings for connection health
ping_interval: 30s
ping_max: 3

# Write deadline for slow consumers
write_deadline: 10s
